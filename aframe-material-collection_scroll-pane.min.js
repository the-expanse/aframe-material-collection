!function(t){var e={};function i(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=41)}({11:function(t,e){t.exports=AFRAME.registerPrimitive("a-ui-scroll-pane",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-scroll-pane":{}},mappings:{width:"ui-scroll-pane.width",height:"ui-scroll-pane.height","scroll-z-offset":"ui-scroll-pane.scrollZOffset","handle-color":"ui-scroll-pane.scrollHandleColor","scroll-padding":"ui-scroll-pane.scrollPadding","look-controls-el":"ui-scroll-pane.cameraEl","look-controls-component":"ui-scroll-pane.lookControlsComponent"}}))},17:function(t,e){t.exports=AFRAME.registerComponent("ui-scroll-pane",{schema:{height:{type:"number",default:1.2},width:{type:"number",default:2.9},scrollPadding:{type:"number",default:.05},scrollZOffset:{type:"number",default:0},scrollHandleColor:{default:"#009688"},intersectableClass:{default:"intersectable"},cameraEl:{type:"selector"},lookControlsComponent:{default:"look-controls"}},init(){if(this.setupElements(),this.container=this.el.querySelector(".container"),void 0===this.container)throw'ui-scroll-pane needs an entity inside it with the class "container" - <a-entity class="container"></a-entity>';this.scrollBarWidth=this.rail.getAttribute("width"),this.container.setAttribute("position",-this.data.width/2+" "+this.data.height/2+" 0"),this.rail.setAttribute("position",this.data.width/2+this.data.scrollPadding+" 0 "+(this.data.scrollZOffset+2e-4)),this.handle.setAttribute("position",this.data.width/2+this.data.scrollPadding+" 0 "+(this.data.scrollZOffset+5e-4)),this.el.sceneEl.renderer.localClippingEnabled=!0,this.content_clips=[new THREE.Plane(new THREE.Vector3(0,1,0),this.data.height/2),new THREE.Plane(new THREE.Vector3(0,-1,0),this.data.height/2),new THREE.Plane(new THREE.Vector3(-1,0,0),this.data.width/2),new THREE.Plane(new THREE.Vector3(1,0,0),this.data.width/2)];const t=t=>{this.data.cameraEl&&this.data.cameraEl.components[this.data.lookControlsComponent]&&this.data.cameraEl.components[this.data.lookControlsComponent][t]()},e=t=>this.mouseMove(t);this.handle.addEventListener("mousedown",i=>{t("pause"),this.isDragging=!0,this.handlePos=this.handle.object3D.worldToLocal(i.detail.intersection.point).y,this.backgroundPanel.addEventListener("ui-mousemove",e),UI.utils.isChanging(this.el.sceneEl,this.handle.object3D.uuid),UI.utils.preventDefault(i)});const i=i=>{this.isDragging&&(this.backgroundPanel.removeEventListener("ui-mousemove",e),t("play"),this.isDragging=!1,UI.utils.stoppedChanging(this.handle.object3D.uuid),UI.utils.preventDefault(i))};this.backgroundPanel.addEventListener("mouseup",i),this.backgroundPanel.addEventListener("mouseleave",i),this.rail.addEventListener("mousedown",t=>{UI.utils.isChanging(this.el.sceneEl,this.handle.object3D.uuid),this.isDragging=!0,this.handlePos=0,this.scroll(this.rail.object3D.worldToLocal(t.detail.intersection.point).y),this.backgroundPanel.addEventListener("ui-mousemove",e),UI.utils.preventDefault(t)}),this.updateContent(),this.el.emit("scroll-pane-loaded"),this.setupMouseWheelScroll()},updateContentClips(){this.el.sceneEl.object3D.updateMatrixWorld(),this.content_clips[0].set(new THREE.Vector3(0,1,0),this.data.height/2),this.content_clips[1].set(new THREE.Vector3(0,-1,0),this.data.height/2),this.content_clips[2].set(new THREE.Vector3(-1,0,0),this.data.width/2),this.content_clips[3].set(new THREE.Vector3(1,0,0),this.data.width/2),this.content_clips[0].applyMatrix4(this.el.object3D.matrixWorld),this.content_clips[1].applyMatrix4(this.el.object3D.matrixWorld),this.content_clips[2].applyMatrix4(this.el.object3D.matrixWorld),this.content_clips[3].applyMatrix4(this.el.object3D.matrixWorld)},setContent(t,e){if(this.container){for(;this.container.firstChild;){let t=this.container.firstChild;this.container.yoga_node&&t.yoga_node&&this.container.yoga_node.removeChild(t.yoga_node),this.container.removeChild(t)}return new Promise(i=>{let a=document.createElement("a-entity");a.setAttribute("visible",!1),a.insertAdjacentHTML("afterbegin",t),a.addEventListener("loaded",t=>{e||this.updateContent(),i(a),a.setAttribute("visible",!0)}),this.container.appendChild(a)})}},updateContent(){this.updateContentClips(),this.currentUuid=THREE.Math.generateUUID(),UI.utils.isChanging(this.el.sceneEl,this.currentUuid),this.setChildClips(),this.container.object3D.position.y=this.data.height/2,"undefined"!=typeof Yoga&&this.initialiseYoga(this.container,100*this.data.width),this.container.yoga_node.calculateLayout(100*this.data.width,"auto",Yoga.DIRECTION_LTR),this.content_height=Number.NEGATIVE_INFINITY,"undefined"!=typeof Yoga&&this.updateYoga(this.container),this.handleSize=THREE.Math.clamp(this.data.height/this.content_height,.1,1),this.handle.setAttribute("height",this.data.height*this.handleSize),this.handle.setAttribute("width",1===this.handleSize?1e-8:.1),this.rail.setAttribute("width",1===this.handleSize?1e-8:.1),this.rail.setAttribute("color",1===this.handleSize?"#efefef":"#fff"),this.handle.setAttribute("position",this.data.width/2+this.data.scrollPadding+" "+(this.data.height-this.data.height*this.handleSize)/2+" "+(this.data.scrollZOffset+5e-4))},mouseMove(t){if(this.isDragging){let e=this.rail.object3D.worldToLocal(t.detail.intersection.point);this.scroll(e.y-this.handlePos)}},scroll(t){let e=-this.data.height/2+this.data.height*this.handleSize/2,i=this.data.height/2-this.data.height*this.handleSize/2,a=THREE.Math.clamp(t,e,i),o=1-(a-e)/(i-e);this.container.object3D.position.y=(this.content_height-this.data.height)*o+this.data.height/2,this.handle.setAttribute("position",this.data.width/2+this.data.scrollPadding+" "+a+" "+(this.data.scrollZOffset+5e-4))},setupMouseWheelScroll(){this.backgroundPanel.addEventListener("ui-mousewheel",t=>{1!==this.handleSize&&(UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid),this.scroll(this.handle.getAttribute("position").y+(t.detail.evt.deltaY<0?.1:-.1)),UI.utils.stoppedChanging(this.el.object3D.uuid),UI.utils.preventDefault(t))})},setupElements(){this.backgroundPanel=document.createElement("a-plane"),this.backgroundPanel.setAttribute("class","background "+this.data.intersectableClass),this.backgroundPanel.setAttribute("width",this.data.width+1),this.backgroundPanel.setAttribute("height",this.data.height+1),this.backgroundPanel.setAttribute("position","0 0 -0.013"),this.backgroundPanel.setAttribute("opacity",1e-4),this.backgroundPanel.setAttribute("transparent",!0),this.el.appendChild(this.backgroundPanel),this.rail=document.createElement("a-plane"),this.rail.setAttribute("class","rail "+this.data.intersectableClass),this.rail.setAttribute("width",.1),this.rail.setAttribute("height",this.data.height),this.rail.setAttribute("shader","flat"),this.el.appendChild(this.rail),this.handle=document.createElement("a-plane"),this.handle.setAttribute("class","handle "+this.data.intersectableClass),this.handle.setAttribute("width",.1),this.handle.setAttribute("height",this.data.height),this.handle.setAttribute("color",this.data.scrollHandleColor),this.handle.setAttribute("shader","flat"),this.el.appendChild(this.handle)},setupYogaNode(t,e,i,a){a.hasOwnProperty("setWidth")||t.setWidth(e),a.hasOwnProperty("setHeight")||t.setHeight(i);for(let e in a)if(a.hasOwnProperty(e)&&-1===e.indexOf("Edge"))if(["setMarginLeft","setMarginPercentLeft","setPaddingLeft","setBorderLeft","setPositionLeft","setPositionPercentLeft"].indexOf(e)>-1)t[e](Yoga.EDGE_LEFT,a[e]);else if(["setMarginRight","setMarginPercentRight","setPaddingRight","setBorderRight","setPositionRight","setPositionPercentRight"].indexOf(e)>-1)t[e](Yoga.EDGE_RIGHT,a[e]);else if(["setMarginTop","setMarginPercentTop","setPaddingTop","setBorderTop","setPositionTop","setPositionPercentTop"].indexOf(e)>-1)t[e](Yoga.EDGE_TOP,a[e]);else if(["setMarginBottom","setMarginPercentBottom","setPaddingBottom","setBorderBottom","setPositionBottom","setPositionPercentBottom"].indexOf(e)>-1)t[e](Yoga.EDGE_BOTTOM,a[e]);else if(["setMargin","setMarginPercent","setPadding","setBorder","setPosition","setPositionPercent"].indexOf(e)>-1)t[e](Yoga.EDGE_ALL,a[e]);else if(e.indexOf("setMarginAuto")>-1){switch(e.replace("setMarginAuto","")){case"":t[e](Yoga.EDGE_ALL);break;case"Left":t[e](Yoga.EDGE_LEFT);break;case"Right":t[e](Yoga.EDGE_RIGHT);break;case"Top":t[e](Yoga.EDGE_TOP);break;case"Bottom":t[e](Yoga.EDGE_BOTTOM)}}else["setWidthAuto","setHeightAuto"].indexOf(e)>-1?t[e]():t[e](a[e])},initialiseYoga(t){let e=0,i=0;switch((t=t||this.container).tagName){case"A-TEXT":case"A-TRIANGLE":case"A-UI-TEXT-INPUT":case"A-UI-NUMBER-INPUT":case"A-UI-INT-INPUT":case"A-UI-PASSWORD-INPUT":e=t.getAttribute("width"),i=t.getAttribute("height");break;case"A-UI-BUTTON":case"A-PLANE":case"A-ENTITY":e=Number(t.components.geometry?t.components.geometry.data.width:t.getAttribute("width")),i=Number(t.components.geometry?t.components.geometry.data.height:t.getAttribute("height"));break;case"A-UI-FAB-BUTTON":case"A-UI-FAB-BUTTON-SMALL":case"A-CIRCLE":i=e=Number(t.components.geometry?2*t.components.geometry.data.radius:2*(t.getAttribute("radius")||0));break;case"A-RING":i=e=Number(t.components.geometry?2*t.components.geometry.data["radius-outer"]:2*(t.getAttribute("radius-outer")||0));break;case"A-UI-SWITCH":case"A-UI-CHECKBOX":case"A-UI-RADIO":let a=t.tagName.substr(2).toLowerCase();e=t.components[a].width,i=t.components[a].height}t.yoga_node||(t.yoga_node=Yoga.Node.create(),t.components["ui-yoga"]?this.setupYogaNode(t.yoga_node,e?100*e:"auto",i?100*i:"auto",t.components["ui-yoga"].getProperties()):(t.yoga_node.setWidth(e?100*e:"auto"),t.yoga_node.setHeight(i?100*i:"auto"),t.yoga_node.setJustifyContent(Yoga.JUSTIFY_FLEX_START),t.yoga_node.setFlexDirection(Yoga.FLEX_DIRECTION_ROW),t.yoga_node.setAlignContent(Yoga.ALIGN_AUTO),t.yoga_node.setFlexWrap(Yoga.WRAP_WRAP)),t.parentElement&&t.parentElement.yoga_node?(t.components["ui-yoga"]||(t.yoga_node.setMargin(Yoga.EDGE_RIGHT,5),t.yoga_node.setMargin(Yoga.EDGE_BOTTOM,5)),t.parentElement.yoga_node.insertChild(t.yoga_node,t.parentElement.yoga_node.getChildCount())):t.components["ui-yoga"]||t.yoga_node.setPadding(Yoga.EDGE_ALL,2)),[].slice.call(t.children).forEach(t=>{t.classList.contains("no-yoga-layout")||this.initialiseYoga(t)})},updateYoga(t){[].slice.call(t.children).forEach(t=>{if(t.classList.contains("no-yoga-layout"))return;let e;e="A-ENTITY"===t.tagName?{x:t.yoga_node.getComputedLeft()/100,y:t.yoga_node.getComputedTop()/100}:{x:t.yoga_node.getComputedLeft()/100+t.yoga_node.getComputedWidth()/200,y:t.yoga_node.getComputedTop()/100+t.yoga_node.getComputedHeight()/200};let i=t.yoga_node.getComputedTop()/100+t.yoga_node.getComputedHeight()/100;i>this.content_height&&(this.content_height=i),t.setAttribute("position",e.x+" "+-e.y+" "+t.getAttribute("position").z),this.updateYoga(t)})},setChildClips(t){t=t||this.container,[].slice.call(t.children).forEach(t=>{t._content_clips=this.content_clips;let e=()=>{t.object3D.traverse(t=>{t.material&&(t.material.isRawShaderMaterial&&(t.material.onBeforeCompile=function(t){let e=t.vertexShader.split("\n"),i=e.indexOf("void main(void) {");e.splice(i,0,"#include <clipping_planes_pars_vertex>"),e.splice(i+2,0,"#include <begin_vertex>"),e.splice(e.length-2,0,"#include <project_vertex>"),e.splice(e.length-2,0,"#include <clipping_planes_vertex>"),t.vertexShader=e.join("\n");let a=t.fragmentShader.split("\n"),o=a.indexOf("void main() {");a.splice(o,0,"#include <clipping_planes_pars_fragment>"),a.splice(o+2,0,"#include <clipping_planes_fragment>"),t.fragmentShader=a.join("\n")},t.material.clipping=!0),t.material.clippingPlanes=this.content_clips,t.material.clipShadows=!0,t.material.needsUpdate=!0)})};t.components.text?t.addEventListener("textfontset",()=>{clearTimeout(this.fontRenderTimeout),this.fontRenderTimeout=setTimeout(()=>UI.utils.stoppedChanging(this.currentUuid),500),e()}):e(),this.setChildClips(t)})}})},22:function(t,e){if("undefined"==typeof Yoga)throw"ui-yoga component requires the Yoga Layout Engine to be loaded - https://yogalayout.com";t.exports=AFRAME.registerComponent("ui-yoga",{schema:{alignContent:{default:"flex-start"},alignItems:{default:"auto"},alignSelf:{default:"auto"},display:{default:"default"},flex:{type:"number",default:1},flexDirection:{default:"row"},flexWrap:{default:"default"},aspectRatio:{default:"default"},overflow:{default:"default"},justifyContent:{default:"start"},border:{type:"int",default:0},borderLeft:{type:"int",default:0},borderRight:{type:"int",default:0},borderTop:{type:"int",default:0},borderBottom:{type:"int",default:0},padding:{type:"int",default:0},paddingLeft:{type:"int",default:0},paddingRight:{type:"int",default:0},paddingTop:{type:"int",default:0},paddingBottom:{type:"int",default:0},margin:{type:"int",default:0},marginLeft:{type:"int",default:0},marginRight:{type:"int",default:0},marginTop:{type:"int",default:0},marginBottom:{type:"int",default:0},marginAuto:{type:"boolean",default:!1},marginAutoLeft:{type:"boolean",default:!1},marginAutoRight:{type:"boolean",default:!1},marginAutoTop:{type:"boolean",default:!1},marginAutoBottom:{type:"boolean",default:!1},marginPercent:{type:"number",default:0},marginPercentLeft:{type:"int",default:0},marginPercentRight:{type:"int",default:0},marginPercentTop:{type:"int",default:0},marginPercentBottom:{type:"int",default:0},flexBasis:{default:"default"},flexBasisPercent:{type:"number",default:0},flexGrow:{type:"number",default:0},flexShrink:{type:"number",default:1},maxHeight:{default:"default"},minHeight:{default:"default"},maxWidth:{default:"default"},minWidth:{default:"default"},maxHeightPercent:{default:"default"},minHeightPercent:{default:"default"},maxWidthPercent:{default:"default"},minWidthPercent:{default:"default"},position:{default:"default"},positionLeft:{type:"int",default:0},positionRight:{type:"int",default:0},positionTop:{type:"int",default:0},positionBottom:{type:"int",default:0},positionPercent:{default:"default"},positionPercentLeft:{type:"int",default:0},positionPercentRight:{type:"int",default:0},positionPercentTop:{type:"int",default:0},positionPercentBottom:{type:"int",default:0},width:{default:"default"},height:{default:"default"},widthAuto:{type:"boolean",default:!1},heightAuto:{type:"boolean",default:!1},widthPercent:{default:"default"},heightPercent:{default:"default"}},init(){this.setProperties()},updateSchema(){this.setProperties()},setProperties(){this.properties=this.properties||[],this.properties.length=0;for(let t in this.data)if(this.data.hasOwnProperty(t)&&"default"!==this.data[t]&&this.data[t]){this.mapPropertyToEnum(t)&&this.properties.push({method:"set"+t.charAt(0).toUpperCase()+t.substr(1),value:this.mapPropertyToEnum(t)})}},getProperties(){let t={};for(let e=0;e<this.properties.length;e++)t[this.properties[e].method]=this.properties[e];return t},mapPropertyToEnum(t){switch(!0){case t.indexOf("align")>-1:return this.enums.align[this.data[t]];case t.indexOf("Edge")>-1:return this.enums.edge[this.data[t]];case"flexDirection"===t:case"flexWrap"===t:case"positionType"===t:case"overflow"===t:case"display"===t:case"justifyContent"===t:return this.enums[t][this.data[t]];default:return this.data[t]}},enums:{align:{count:Yoga.ALIGN_COUNT,auto:Yoga.ALIGN_AUTO,"flex-start":Yoga.ALIGN_FLEX_START,center:Yoga.ALIGN_CENTER,"flex-end":Yoga.ALIGN_FLEX_END,stretch:Yoga.ALIGN_STRETCH,baseline:Yoga.ALIGN_BASELINE,"space-between":Yoga.ALIGN_SPACE_BETWEEN,"space-around":Yoga.ALIGN_SPACE_AROUND},dimension:{count:Yoga.DIMENSION_COUNT,width:Yoga.DIMENSION_WIDTH,height:Yoga.DIMENSION_HEIGHT},direction:{count:Yoga.DIRECTION_COUNT,inherit:Yoga.DIRECTION_INHERIT,ltr:Yoga.DIRECTION_LTR,rtl:Yoga.DIRECTION_RTL},display:{count:Yoga.DISPLAY_COUNT,flex:Yoga.DISPLAY_FLEX,none:Yoga.DISPLAY_NONE},edge:{count:Yoga.EDGE_COUNT,left:Yoga.EDGE_LEFT,top:Yoga.EDGE_TOP,right:Yoga.EDGE_RIGHT,bottom:Yoga.EDGE_BOTTOM,start:Yoga.EDGE_START,end:Yoga.EDGE_END,horizontal:Yoga.EDGE_HORIZONTAL,vertical:Yoga.EDGE_VERTICAL,all:Yoga.EDGE_ALL},experimental:{count:Yoga.EXPERIMENTAL_FEATURE_COUNT,"flex-basis":Yoga.EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS},flexDirection:{count:Yoga.FLEX_DIRECTION_COUNT,column:Yoga.FLEX_DIRECTION_COLUMN,"column-reverse":Yoga.FLEX_DIRECTION_COLUMN_REVERSE,row:Yoga.FLEX_DIRECTION_ROW,reverse:Yoga.FLEX_DIRECTION_ROW_REVERSE},justifyContent:{count:Yoga.JUSTIFY_COUNT,start:Yoga.JUSTIFY_FLEX_START,center:Yoga.JUSTIFY_CENTER,end:Yoga.JUSTIFY_FLEX_END,between:Yoga.JUSTIFY_SPACE_BETWEEN,around:Yoga.JUSTIFY_SPACE_AROUND,evenly:Yoga.JUSTIFY_SPACE_EVENLY},logLevel:{count:Yoga.LOG_LEVEL_COUNT,error:Yoga.LOG_LEVEL_ERROR,warn:Yoga.LOG_LEVEL_WARN,info:Yoga.LOG_LEVEL_INFO,debug:Yoga.LOG_LEVEL_DEBUG,verbose:Yoga.LOG_LEVEL_VERBOSE,fatal:Yoga.LOG_LEVEL_FATAL},measureMode:{count:Yoga.MEASURE_MODE_COUNT,undefined:Yoga.MEASURE_MODE_UNDEFINED,exactly:Yoga.MEASURE_MODE_EXACTLY,"at-most":Yoga.MEASURE_MODE_AT_MOST},nodeType:{count:Yoga.NODE_TYPE_COUNT,default:Yoga.NODE_TYPE_DEFAULT,text:Yoga.NODE_TYPE_TEXT},overflow:{count:Yoga.OVERFLOW_COUNT,visible:Yoga.OVERFLOW_VISIBLE,hidden:Yoga.OVERFLOW_HIDDEN,scroll:Yoga.OVERFLOW_SCROLL},positionType:{count:Yoga.POSITION_TYPE_COUNT,relative:Yoga.POSITION_TYPE_RELATIVE,absolute:Yoga.POSITION_TYPE_ABSOLUTE},printOptions:{count:Yoga.PRINT_OPTIONS_COUNT,layout:Yoga.PRINT_OPTIONS_LAYOUT,style:Yoga.PRINT_OPTIONS_STYLE,children:Yoga.PRINT_OPTIONS_CHILDREN},unit:{count:Yoga.UNIT_COUNT,undefined:Yoga.UNIT_UNDEFINED,point:Yoga.UNIT_POINT,percent:Yoga.UNIT_PERCENT,auto:Yoga.UNIT_AUTO},flexWrap:{count:Yoga.WRAP_COUNT,"no-wrap":Yoga.WRAP_NO_WRAP,wrap:Yoga.WRAP_WRAP,"wrap-reverse":Yoga.WRAP_WRAP_REVERSE}}})},41:function(t,e,i){"use strict";i.r(e);i(22),i(17),i(11)}});