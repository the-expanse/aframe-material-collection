!function(t){var e={};function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=52)}({14:function(t,e){t.exports=AFRAME.registerComponent("ui-slider",{schema:{value:{type:"number",default:0},disabled:{type:"boolean",default:!1},progressColor:{default:"#4db6ac"},handleColor:{default:"#009688"},handleDisabledColor:{default:"#afafaf"},railColor:{default:"#fff"},handleZIndex:{type:"number",default:.001},intersectableClass:{default:"intersectable"},width:{type:"number",default:.5},height:{type:"number",default:.1},lookControlsComponent:{default:"look-controls"},handleRadius:{type:"number",default:.055},scrollZOffset:{type:"number",default:0},cameraEl:{type:"selector"}},init(){this.scroll_perc=this.data.value,this.width=this.data.width,this.height=this.data.height,this.backgroundPanel=document.createElement("a-plane"),this.backgroundPanel.setAttribute("class","no-yoga-layout background "+this.data.intersectableClass),this.backgroundPanel.setAttribute("width",this.data.width+1),this.backgroundPanel.setAttribute("height",this.data.height+1),this.backgroundPanel.setAttribute("position","0 0 -0.02"),this.backgroundPanel.setAttribute("opacity",1e-4),this.backgroundPanel.setAttribute("transparent",!0),this.el.appendChild(this.backgroundPanel),this.handleEl=document.createElement("a-circle"),this.handleEl.setAttribute("radius",this.data.handleRadius),this.handleEl.setAttribute("color",this.data.handleColor),this.handleEl.setAttribute("shader","flat"),this.handleEl.setAttribute("ui-ripple","size:0.1 0.1;color:#999;fadeDelay:300;duration:500"),this.handleEl.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),this.handleEl.setAttribute("position",-this.data.width/2+this.data.handleRadius+" 0 "+this.data.handleZIndex),this.handleEl.setAttribute("segments",6),this.el.appendChild(this.handleEl),this.railEl=document.createElement("a-plane"),this.railEl.setAttribute("width",this.data.width-.1),this.railEl.setAttribute("height","0.05"),this.railEl.setAttribute("shader","flat"),this.railEl.setAttribute("ui-rounded","borderRadius:0.025"),this.railEl.setAttribute("color",this.data.railColor),this.railEl.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),this.el.appendChild(this.railEl),this.railEl.addEventListener("rounded-loaded",()=>{this.getRailObject(this.railEl.object3D),this.slide(this.scroll_perc,!0)});const t=t=>{if(this.data.cameraEl){let e=this.data.cameraEl.components[this.data.lookControlsComponent];e&&e[t]()}},e=t=>this.mouseMove(t);this.handleEl.addEventListener("mousedown",i=>{t("pause"),this.isDragging=!0,this.el.emit("slide-start",this.scroll_perc),this.handlePos=this.handleEl.object3D.worldToLocal(i.detail.intersection.point).x,this.backgroundPanel.addEventListener("ui-mousemove",e),UI.utils.isChanging(this.el.sceneEl,this.handleEl.object3D.uuid),UI.utils.preventDefault(i)});const i=i=>{this.isDragging&&(this.backgroundPanel.removeEventListener("ui-mousemove",e),t("play"),this.isDragging=!1,this.el.emit("slide-end",this.scroll_perc),UI.utils.stoppedChanging(this.handleEl.object3D.uuid),UI.utils.preventDefault(i))};this.backgroundPanel.addEventListener("mouseup",i),this.backgroundPanel.addEventListener("mouseleave",i),this.railEl.addEventListener("mousedown",t=>{UI.utils.isChanging(this.el.sceneEl,this.handleEl.object3D.uuid),this.isDragging=!0,this.handlePos=0,this.slide(this.railEl.object3D.worldToLocal(t.detail.intersection?t.detail.intersection.point:t.relatedTarget.object3D.position).x),this.backgroundPanel.addEventListener("ui-mousemove",e),UI.utils.preventDefault(t)}),this.el.slide=this.slide.bind(this),this.el.railEl=this.railEl},slide(t,e){let i=-this.data.width/2+this.data.handleRadius,s=this.data.width/2-this.data.handleRadius,a=e?i+(s-i)*t:THREE.Math.clamp(t,i,s);this.scroll_perc=e?t:(a-i)/(s-i),this.el.emit("slide",this.scroll_perc),this.progress.scale.set(this.scroll_perc||1e-4,1,1),this.progress.position.set(-(this.data.width-this.data.handleRadius)/2+this.scroll_perc*((this.data.width-this.data.handleRadius)/2),0,1e-4),this.handleEl.setAttribute("position",a+" 0 "+(this.data.scrollZOffset+5e-4))},mouseMove(t){if(this.isDragging){let e=this.railEl.object3D.worldToLocal(t.detail.intersection.point);this.slide(e.x-this.handlePos+this.data.handleRadius)}},getRailObject(t){t.traverse(t=>{t.geometry&&"ShapeBufferGeometry"===t.geometry.type&&(this.progress=new THREE.Mesh(t.geometry.clone(),new THREE.MeshBasicMaterial({color:this.data.progressColor})),this.progress.position.set(-this.data.width/2,0,1e-4),this.progress.scale.set(1e-5,1,1),this.el.object3D.add(this.progress))})}})},4:function(t,e){t.exports=AFRAME.registerPrimitive("a-ui-slider",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-slider":{}},mappings:{value:"ui-slider.value",disabled:"ui-slider.disabled","camera-el":"ui-slider.cameraEl"}}))},52:function(t,e,i){"use strict";i.r(e);i(14),i(4)}});